{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Samplepedia{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 4 CSS (REQUIRED) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome (for icons) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- AdminLTE v3 CSS (REQUIRED) -->
  <link rel="stylesheet" href="{% static 'adminlte/css/adminlte.min.css' %}">
  
  <!-- Retro Terminal Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  
  <style>
  /* === RETRO HACKER TERMINAL THEME === */
  
  :root {
    --terminal-bg: #0d0208;
    --terminal-fg: #00ff41;
    --terminal-glow: #00ff41;
    --terminal-dim: #008f11;
    --terminal-border: #00ff41;
    --card-bg: #0a0a0a;
  }
  
  body {
    font-family: 'VT323', monospace;
    font-size: 20px;
    background: var(--terminal-bg) !important;
    color: var(--terminal-fg) !important;
    letter-spacing: 0.5px;
  }
  
  /* CRT Screen Effect */
  .content-wrapper {
    background: transparent !important;
    position: relative;
  }
  
  .content-wrapper::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      rgba(18, 16, 16, 0) 50%, 
      rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 4px;
    z-index: 1;
    pointer-events: none;
    animation: scanline 8s linear infinite;
  }
  
  @keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
  }
  
  /* Text Glow */
  h1, h2, h3, .card-title {
    color: var(--terminal-fg) !important;
    text-shadow: 0 0 5px var(--terminal-glow), 0 0 10px var(--terminal-glow);
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  
  /* Terminal Cards */
  .card {
    background: var(--card-bg) !important;
    border: 2px solid var(--terminal-border) !important;
    border-radius: 0 !important;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3), inset 0 0 20px rgba(0, 255, 65, 0.05) !important;
  }
  
  .card-header {
    background: rgba(0, 255, 65, 0.1) !important;
    border-bottom: 1px solid var(--terminal-border) !important;
    border-radius: 0 !important;
  }
  
  .card-header::before {
    content: ">> ";
    color: var(--terminal-fg);
  }
  
  /* Terminal Table */
  .table {
    color: var(--terminal-fg) !important;
    border: 1px solid var(--terminal-dim) !important;
  }
  
  .table thead th {
    border-bottom: 2px solid var(--terminal-border) !important;
    background: rgba(0, 255, 65, 0.05) !important;
    text-transform: uppercase;
    font-weight: bold;
  }
  
  .table td, .table th {
    border-color: var(--terminal-dim) !important;
  }
  
  .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0, 255, 65, 0.02) !important;
  }
  
  .table-striped tbody tr:nth-of-type(even) {
    background-color: rgba(0, 0, 0, 0.3) !important;
  }
  
  .table-hover tbody tr:hover {
    background-color: rgba(0, 255, 65, 0.1) !important;
  }
  
  /* Links */
  a {
    color: var(--terminal-fg) !important;
    text-decoration: none !important;
  }
  
  a:hover {
    color: #33ff33 !important;
    text-shadow: 0 0 5px var(--terminal-glow);
  }
  
  code {
    background: rgba(0, 255, 65, 0.1) !important;
    color: var(--terminal-fg) !important;
    border: 1px solid var(--terminal-dim) !important;
    padding: 2px 6px;
    font-family: 'Share Tech Mono', monospace;
  }
  
  /* Terminal Badges */
  .badge {
    border-radius: 0 !important;
    font-family: 'VT323', monospace;
    font-size: 18px;
    padding: 4px 8px;
    border: 1px solid currentColor;
    background: transparent !important;
    text-shadow: 0 0 3px currentColor;
  }
  
  .badge-success { 
    color: #00ff41 !important; 
    border-color: #00ff41 !important;
  }
  .badge-warning { 
    color: #ffb000 !important; 
    border-color: #ffb000 !important;
  }
  .badge-danger { 
    color: #ff0066 !important; 
    border-color: #ff0066 !important;
  }
  .badge-dark { 
    color: #ff00ff !important; 
    border-color: #ff00ff !important;
  }
  
  /* Navbar */
  .navbar {
    background: rgba(0, 0, 0, 0.9) !important;
    border-bottom: 2px solid var(--terminal-border) !important;
    font-family: 'VT323', monospace !important;
    font-size: 22px;
  }
  
  .navbar-brand::before {
    content: "root@";
    color: var(--terminal-dim);
  }
  
  .navbar-brand {
    color: var(--terminal-fg) !important;
    text-shadow: 0 0 10px var(--terminal-glow);
  }
  
  .nav-link {
    color: var(--terminal-fg) !important;
  }
  
  .nav-link:hover {
    text-shadow: 0 0 5px var(--terminal-glow);
  }
  
  /* Buttons */
  .btn {
    border-radius: 0 !important;
    font-family: 'VT323', monospace;
    font-size: 20px;
    border: 2px solid var(--terminal-border) !important;
    background: transparent !important;
    color: var(--terminal-fg) !important;
    text-transform: uppercase;
  }
  
  .btn:hover {
    background: rgba(0, 255, 65, 0.2) !important;
    box-shadow: 0 0 10px var(--terminal-glow);
  }
  
  .btn-danger {
    border-color: #ff0066 !important;
    color: #ff0066 !important;
  }
  
  .btn-danger:hover {
    background: rgba(255, 0, 102, 0.2) !important;
    box-shadow: 0 0 10px #ff0066;
  }
  
  /* Form Controls */
  .form-control, select.form-control {
    background: rgba(0, 0, 0, 0.8) !important;
    border: 2px solid var(--terminal-dim) !important;
    border-radius: 0 !important;
    color: var(--terminal-fg) !important;
    font-family: 'Share Tech Mono', monospace;
  }
  
  .form-control:focus {
    background: rgba(0, 0, 0, 0.9) !important;
    border-color: var(--terminal-border) !important;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3) !important;
    color: var(--terminal-fg) !important;
  }
  
  /* Pagination */
  .pagination .page-link {
    background: transparent !important;
    border: 1px solid var(--terminal-dim) !important;
    color: var(--terminal-fg) !important;
    border-radius: 0 !important;
  }
  
  .pagination .page-link:hover {
    background: rgba(0, 255, 65, 0.1) !important;
    border-color: var(--terminal-border) !important;
  }
  
  .pagination .page-item.active .page-link {
    background: rgba(0, 255, 65, 0.2) !important;
    border-color: var(--terminal-border) !important;
  }
  
  /* Spoiler - Classified Terminal Style */
  /* Spoiler - Classified Terminal Style */
  .spoiler {
    display: inline-block;
    position: relative;
    border: 1px solid #ff0066;
    padding: 2px 8px;
    background: rgba(255, 0, 102, 0.1);
    cursor: pointer;
    font-family: 'VT323', monospace;
  }
  .spoiler > .spoiler-text {
    color: transparent;
    user-select: none;
  }
  .spoiler::after {
    content: "[CLASSIFIED - PRESS TO DECRYPT]";
    position: absolute;
    inset: 0;
    padding: 2px 8px;
    color: #ff0066;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    text-shadow: 0 0 5px #ff0066;
    animation: blink 2s infinite;
  }
  .spoiler.revealed > .spoiler-text {
    color: inherit;
    user-select: text;
  }
  .spoiler.revealed::after {
    display: none;
  }
  
  @keyframes blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0.5; }
  }
  
  /* Tag colors - terminal neon style */
  .badge-tag {
    color: currentColor !important;
    text-decoration: none;
    border: 1px solid currentColor;
    background: transparent !important;
    text-shadow: 0 0 3px currentColor;
  }
  
  /* Images - Terminal bordered */
  img {
    border: 2px solid var(--terminal-border);
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
  }
  
  /* Screen flicker effect */
  @keyframes flicker {
    0% { opacity: 0.97; }
    50% { opacity: 0.99; }
    100% { opacity: 0.97; }
  }
  
  body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(18, 16, 16, 0.1);
    pointer-events: none;
    animation: flicker 0.15s infinite;
    z-index: 9999;
  }
  
  /* Wrapper positioning for effects */
  .wrapper {
    position: relative;
    z-index: 2;
  }
  
  /* Like button terminal style */
  .far.fa-heart, .fas.fa-heart {
    text-shadow: 0 0 5px currentColor;
  }
</style>

  
</head>

<body class="hold-transition layout-top-nav">
<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand">
    <div class="container-fluid">
      <a href="/" class="navbar-brand">
        <span class="font-weight-bold">SAMPLEPEDIA:~$</span>
      </a>

      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a href="/" class="nav-link">
            <i class="fas fa-list"></i> [BROWSE]
          </a>
        </li>
        <li class="nav-item">
          <a href="/admin/" class="nav-link">[ADMIN]</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Content -->
  <div class="content-wrapper">
    {% block content %}{% endblock %}
  </div>

</div>

<!-- JS (LOAD ONCE, IN THIS ORDER) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'adminlte/js/adminlte.min.js' %}"></script>

<script>
  document.addEventListener("click", function (e) {
    const el = e.target.closest(".spoiler");
    if (el) el.classList.toggle("revealed");
  });
</script>

<!-- Tag color generator -->
<script>
  // Generate consistent color for each tag based on tag name
  function hashString(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
      hash = ((hash << 5) - hash) + str.charCodeAt(i);
      hash = hash & hash;
    }
    return Math.abs(hash);
  }
  
  document.querySelectorAll('.badge-tag').forEach(badge => {
    const tagName = badge.textContent.trim();
    const hue = hashString(tagName) % 360;
    const saturation = 65;
    const lightness = 50;
    badge.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
  });
</script>

</body>
</html>
